# Spark如何减少内存消耗
## 避免增加开销的Java功能
-  设计数据结构时，优先使用对象数组、基本类型，而不是Java/Scala的集合类（如HashMap）。
如果要使用集合类，使用fastutil库里面提供的集合类。
- 尽可能避免包括大量小对象和指针的嵌套结构。
- 使用数字或枚举对象作为key，而不是字符串。
- RAM小于32G时，设置JVM标志：-XX:+UseCompressedOops，这样可以使得指针为4个字节而不是8个字节。
